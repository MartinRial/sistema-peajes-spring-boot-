<!-- CU: Ingresar a la aplicación - Admin -->
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ingreso a la aplicación - Administrador</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

    <link rel="stylesheet" href="/style.css" />

    <script src="/vistaWeb.js"></script>
  </head>
  <body>
    <script src="/utilesVista.js"></script>
    <div class="login-container">
      <div class="login-card">
        <div class="login-header">
          <div class="login-icon">
            <i class="bi bi-shield-lock" style="font-size: 40px; color: white"></i>
          </div>
          <h1 class="login-title">Ingreso a la aplicación</h1>
          <p class="login-subtitle">Por favor ingrese con su cédula de identidad y contraseña.</p>
        </div>

        <form id="loginForm" action="/acceso/login" method="post" onsubmit="acceder(event);">
          <div class="mb-3">
            <label for="cedula" class="form-label">Cédula de identidad</label>
            <input value="12345678" type="text" class="form-control" id="cedula" name="cedula" placeholder="Ej: 41234567" required pattern="[0-9]+" title="Solo números, sin puntos ni guiones" />
            <div class="form-text">Solo números, sin puntos ni guiones.</div>
          </div>

          <div class="mb-4">
            <label for="password" class="form-label">Contraseña</label>
            <input value="admin.123" type="password" class="form-control" id="contrasena" name="contrasena" placeholder="Ingrese su contraseña" required />
          </div>

          <button type="submit" class="btn btn-primary w-100">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            Ingresar
          </button>
        </form>

        <div class="login-footer">© 2025 – Acceso de administradores</div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script>
      function acceder(event) {
        event.preventDefault(); // Evita el envío tradicional del formulario
        submit("acceso/login", serializarFormulario("loginForm"));
      }

      async function mostrar_error(mensaje) {
        await mostrarMensaje(mensaje);
      }

      function mostrar_loginExitoso(urlDestino) {
        window.location.href = urlDestino;
      }

      async function excepcionDeAplicacion(text) {
        await mostrarMensaje(text);
      }

      function procesarErrorSubmit(status, text) {
        mostrar_error(text);
      }
    </script>
  </body>
</html>
